<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="../../../img/favicon.ico" rel="shortcut icon"/>
<title>Problem 1 - Physics and Mathematics</title>
<link href="../../../css/theme.css" rel="stylesheet"/>
<link href="../../../css/theme_extra.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" rel="stylesheet"/>
<script>
        // Current page data
        var mkdocs_page_name = "Problem 1";
        var mkdocs_page_input_path = "1 Physics/5 Circuits/Problem_1.1.md";
        var mkdocs_page_url = null;
      </script>
<!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
<script>hljs.highlightAll();</script>
</head>
<body class="wy-body-for-nav" role="document">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side stickynav" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../../.."> Physics and Mathematics
        </a><div role="search">
<form action="../../../search.html" class="wy-form" id="rtd-search-form" method="get">
<input aria-label="Search docs" name="q" placeholder="Search docs" title="Type search term here" type="text"/>
</form>
</div>
</div>
<div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../..">Introduction</a>
</li>
</ul>
<p class="caption"><span class="caption-text">1 Physics</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal">1 Mechanics</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../1%20Mechanics/Problem_1/">Problem 1</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../1%20Mechanics/Problem_2/">Problem 2</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">2 Gravity</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../2%20Gravity/Problem_1/">Problem 1</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../2%20Gravity/Problem_2/">Problem 2</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../2%20Gravity/Problem_3/">Problem 3</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">3 Waves</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../3%20Waves/Problem_1/">Problem 1</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">4 Electromagnetism</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../4%20Electromagnetism/Problem_1%20copy/">Problem 1</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../4%20Electromagnetism/Problem_1/">Problem 1 (Shorted)</a>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal current">5 Circuits</a>
<ul class="current">
<li class="toctree-l2 current"><a class="reference internal current" href="#">Problem 1</a>
<ul class="current">
<li class="toctree-l3"><a class="reference internal" href="#1-problem-overview">1. Problem Overview</a>
<ul>
<li class="toctree-l4"><a class="reference internal" href="#11-introduction">1.1 Introduction</a>
</li>
<li class="toctree-l4"><a class="reference internal" href="#12-equivalent-resistance-basics">1.2 Equivalent Resistance Basics</a>
</li>
<li class="toctree-l4"><a class="reference internal" href="#13-formal-statement">1.3 Formal Statement</a>
</li>
<li class="toctree-l4"><a class="reference internal" href="#14-applications">1.4 Applications</a>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#2-graph-representation">2. Graph Representation</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#3-input-structure">3. Input Structure</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#4-series-and-parallel-detection">4. Series and Parallel Detection</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#5-resistance-computation">5. Resistance Computation</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#6-complex-network-reduction">6. Complex Network Reduction</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#7-resistance-computation-final-step">7. Resistance Computation (Final Step)</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#8-plot-and-visualization">8. Plot and Visualization</a>
<ul>
<li class="toctree-l4"><a class="reference internal" href="#circuit-simplification">Circuit simplification</a>
</li>
<li class="toctree-l4"><a class="reference internal" href="#building-blocks">Building blocks</a>
</li>
<li class="toctree-l4"><a class="reference internal" href="#colab-circuit-problem-1">Colab: Circuit Problem 1</a>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Problem_1/">Problem 1</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">6 Statistics</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../6%20Statistics/Problem_1/">Problem 1</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../6%20Statistics/Problem_2/">Problem 2</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">7 Measurements</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../7%20Measurements/Problem_1/">Problem 1</a>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">2 Mathematics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../2%20Mathematics/1%20Linear_algebra/">Linear Algebra</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../2%20Mathematics/2%20Analytic_geometry/">Analytic geometry</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../2%20Mathematics/3%20Calculus/">Calculus</a>
</li>
</ul>
<p class="caption"><span class="caption-text">3 Discret Mathematics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal">1 Set Theory and ...</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/1%20Set%20Theory%20and%20.../_02%20Set_Theory/">Set Theory</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/1%20Set%20Theory%20and%20.../_03%20Relations/">Relations</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/1%20Set%20Theory%20and%20.../_04%20Functions/">Functions</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">2 Number Theory and ...</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/2%20Number%20Theory%20and%20.../_05%20Combinatorics/">Combinatorics</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/2%20Number%20Theory%20and%20.../_08%20Number_Theory/">Number Theory</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">3 Recurrence and ...</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/3%20Recurrence%20and%20.../_06%20Sequences_and_Series/">Sequences and Series</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/3%20Recurrence%20and%20.../_07%20Induction/">Induction</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/3%20Recurrence%20and%20.../_09%20Recurrence/">Recurrence</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">4 Graph Theory and ...</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/4%20Graph%20Theory%20and%20.../_10%20Graph_Theory/">Graph Theory</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">5 Logic</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/5%20Logic/_01%20Logic/">Logic</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="Mobile navigation menu" class="wy-nav-top" role="navigation">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../../..">Physics and Mathematics</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content"><div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a aria-label="Docs" class="icon icon-home" href="../../.."></a></li>
<li class="breadcrumb-item">1 Physics</li>
<li class="breadcrumb-item">5 Circuits</li>
<li class="breadcrumb-item active">Problem 1</li>
<li class="wy-breadcrumbs-aside">
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div class="section" itemprop="articleBody">
<h1 id="problem-1">Problem 1</h1>
<hr/>
<h2 id="1-problem-overview">1. Problem Overview</h2>
<h3 id="11-introduction">1.1 Introduction</h3>
<p>Compute the <strong>equivalent resistance</strong> <span class="arithmatex">\(R\_{\text{eq}}\)</span> between two nodes in a resistor network, modeled as a weighted undirected graph <span class="arithmatex">\(G = (V, E)\)</span> where edges represent resistors. Use Ohm’s Law: <span class="arithmatex">\(R\_{\text{eq}} = \frac{V}{I}\)</span>.</p>
<h3 id="12-equivalent-resistance-basics">1.2 Equivalent Resistance Basics</h3>
<ul>
<li><strong>Ohm’s Law</strong>: <span class="arithmatex">\(V = I \cdot R\)</span></li>
<li><strong>Series</strong>: <span class="arithmatex">\(R\_{\text{eq}} = R\_1 + R\_2 + \cdots + R\_n\)</span></li>
<li><strong>Parallel</strong>: <span class="arithmatex">\(\frac{1}{R\_{\text{eq}}} = \sum \frac{1}{R\_i}\)</span></li>
</ul>
<h3 id="13-formal-statement">1.3 Formal Statement</h3>
<p>Given graph <span class="arithmatex">\(G\)</span>, START node <span class="arithmatex">\(A\)</span>, and END node <span class="arithmatex">\(B\)</span>, find <span class="arithmatex">\(R\_{\text{eq}}(A, B)\)</span>.</p>
<h3 id="14-applications">1.4 Applications</h3>
<p>Useful in power systems, electronics, and network analysis; demonstrates links between circuit theory and graph theory.</p>
<hr/>
<h2 id="2-graph-representation">2. Graph Representation</h2>
<p>Model circuit as an undirected, weighted graph with:</p>
<ul>
<li>Nodes = junctions</li>
<li>Edges = resistors, with weights <span class="arithmatex">\(R\_{uv}\)</span></li>
</ul>
<p>Support formats include adjacency and resistance matrices. Graphs help in detecting simplifications like series and parallel connections.</p>
<hr/>
<h2 id="3-input-structure">3. Input Structure</h2>
<p>Input defines:</p>
<ul>
<li>Nodes list</li>
<li>Edge list as tuples: <span class="arithmatex">\((u, v, R\_{uv})\)</span></li>
<li>Start and end nodes</li>
</ul>
<p>Edge representations and formats enable algorithmic simplification.</p>
<hr/>
<h2 id="4-series-and-parallel-detection">4. Series and Parallel Detection</h2>
<p>Key for simplification:</p>
<ul>
<li><strong>Series</strong>: Two edges in line through a node with degree 2 (not start/end)</li>
<li><strong>Parallel</strong>: Multiple edges between same nodes</li>
</ul>
<p>Apply recursively until no more simplifications.</p>
<hr/>
<h2 id="5-resistance-computation">5. Resistance Computation</h2>
<p>Use Ohm’s Law: <span class="arithmatex">\(R = \frac{V}{I}\)</span>.</p>
<ul>
<li><strong>Node Voltage Method</strong>: Solve linear system using KCL.</li>
<li><strong>Laplacian Method</strong>: Use matrix pseudoinverse to find resistance.</li>
</ul>
<hr/>
<h2 id="6-complex-network-reduction">6. Complex Network Reduction</h2>
<p>For complex circuits:</p>
<ul>
<li>Apply <strong>recursive reduction</strong>, <strong>node elimination</strong>, or <strong>Y-Δ transforms</strong></li>
<li>Use <strong>matrix methods</strong> for numerical and symbolic solutions</li>
</ul>
<hr/>
<h2 id="7-resistance-computation-final-step">7. Resistance Computation (Final Step)</h2>
<p>Once simplified, compute <span class="arithmatex">\(R\_{\text{eq}}\)</span>:</p>
<ul>
<li><strong>Simple case</strong>: Apply direct formulas</li>
<li><strong>General case</strong>: Use node voltage or Laplacian methods</li>
</ul>
<hr/>
<h2 id="8-plot-and-visualization">8. Plot and Visualization</h2>
<h3 id="circuit-simplification">Circuit simplification</h3>
<h4 id="case-1">Case 1</h4>
<pre><code class="language-python">import networkx as nx
import matplotlib.pyplot as plt
import os
from PIL import Image
from IPython.display import HTML
import base64

# Step directory
folder_name = "case_1"
os.makedirs(folder_name, exist_ok=True)

# Base position layout (same throughout)
base_pos = {
    "B+": (0, 1),
    "R2": (1, 1.5),
    "R3": (2, 1.5),
    "R4": (3, 1),
    "R5": (4, 1),
    "B-": (5, 1),
    "R1": (1.5, 0.3)
}

# Function to draw and save a step
def draw_step(G, pos, title, highlight=[], merged_labels={}, filename="step.png"):
    plt.figure(figsize=(7, 3))

    # Colors for nodes
    colors = []
    for node in G.nodes():
        if node in highlight:
            colors.append("red" if "1" in node or "2" in node or "3" in node or "23" in node else
                          "green" if "4" in node or "5" in node or "45" in node else
                          "cyan" if "123" in node else
                          "magenta")
        else:
            colors.append("lightgray")

    # Labels
    labels = {n: merged_labels.get(n, n) for n in G.nodes()}

    nx.draw_networkx_nodes(G, pos, node_color=colors, node_size=1200, node_shape='s', edgecolors='black')
    nx.draw_networkx_labels(G, pos, labels=labels, font_size=10, font_weight="bold")
    nx.draw_networkx_edges(G, pos, edge_color="gray", arrows=True, arrowsize=15, width=2)

    plt.title(title, fontsize=14, loc='left')
    plt.axis("off")
    plt.tight_layout()
    plt.savefig(f"{folder_name}/{filename}", dpi=100)
    plt.close()

# Step 0
# Step 1: Initial circuit
G1 = nx.DiGraph()
G1.add_edges_from([
    ("B+", "R2"), ("R2", "R3"), ("R3", "R4"),
    ("R4", "R5"), ("R5", "B-"),
    ("B+", "R1"), ("R1", "R4")
])
draw_step(G1, base_pos, "Initial circuit", highlight=[], filename="step_0.png")


# Step 1: Initial circuit
G1 = nx.DiGraph()
G1.add_edges_from([
    ("B+", "R2"), ("R2", "R3"), ("R3", "R4"),
    ("R4", "R5"), ("R5", "B-"),
    ("B+", "R1"), ("R1", "R4")
])
draw_step(G1, base_pos, "First step", highlight=["R2", "R3"], filename="step_1.1.png")

# Step 1: After combining R2 and R3 → R23
G2 = nx.DiGraph()
G2.add_edges_from([
    ("B+", "R23"), ("R23", "R4"),
    ("R4", "R5"), ("R5", "B-"),
    ("B+", "R1"), ("R1", "R4")
])
pos2 = base_pos.copy()
pos2["R23"] = ((base_pos["R2"][0] + base_pos["R3"][0]) / 2, base_pos["R2"][1])
draw_step(G2, pos2, "First step", highlight=["R23"], merged_labels={"R23": "R23"}, filename="step_1.2.png")

# Step 2: Highlight R4 and R5
draw_step(G2, pos2, "Second step", highlight=["R4", "R5"], filename="step_2.1.png")

# Step 2: Combine R4 + R5 → R45
G3 = nx.DiGraph()
G3.add_edges_from([
    ("B+", "R23"), ("R23", "R45"),
    ("R45", "B-"),
    ("B+", "R1"), ("R1", "R45")
])
pos3 = pos2.copy()
pos3["R45"] = ((base_pos["R4"][0] + base_pos["R5"][0]) / 2, base_pos["R4"][1])
draw_step(G3, pos3, "Second step", highlight=["R45"], merged_labels={"R45": "R45"}, filename="step_2.2.png")

# Step 3: Highlight R1 and R23
draw_step(G3, pos3, "Third step", highlight=["R1", "R23"], filename="step_3.1.png")

# Step 3: Combine R1 ‖ R23 → R123
G4 = nx.DiGraph()
G4.add_edges_from([
    ("B+", "R123"), ("R123", "R45"), ("R45", "B-")
])
pos4 = pos3.copy()
pos4["R123"] = ((base_pos["R1"][0] + pos2["R23"][0]) / 2, 1.1)
draw_step(G4, pos4, "Third step", highlight=["R123"], merged_labels={"R123": "R123"}, filename="step_3.2.png")

# Step 4: Highlight R123 and R45
draw_step(G4, pos4, "Fourth step", highlight=["R123", "R45"], filename="step_4.1.png")

# Step 4: Combine R123 + R45 → R12345
G5 = nx.DiGraph()
G5.add_edges_from([
    ("B+", "R12345"), ("R12345", "B-")
])
pos5 = {"B+": (0, 1), "R12345": (2.5, 1), "B-": (5, 1)}
draw_step(G5, pos5, "Fourth step", highlight=["R12345"], merged_labels={"R12345": "R12345"}, filename="step_4.2.png")

# === Generate GIF from step images ===

image_files = sorted([f for f in os.listdir("case_1") if f.endswith(".png")])
print(image_files)
frames = [Image.open(os.path.join(folder_name, fname)) for fname in image_files]
gif_path = "case1_visual_simplification.gif"
frames[0].save(gif_path, save_all=True, append_images=frames[1:], duration=1200, loop=0)

# Display GIF in Colab using HTML
with open(gif_path, 'rb') as f:
    gif_data = f.read()
b64_gif = base64.b64encode(gif_data).decode('utf-8')
html = f'&lt;img src="data:image/gif;base64,{b64_gif}"&gt;'
HTML(html)
</code></pre>
<p><img alt="Circuit Simplification" src="../../../_pics/Physics/5%20Circuits/Problem_1/circuit_simplification/circuit_simplification.gif"/></p>
<h4 id="case-2">Case 2</h4>
<pre><code class="language-python">import networkx as nx
import matplotlib.pyplot as plt

# -----------------------------
# Function to draw nodes with different shapes
# -----------------------------
def custom_draw(G, pos, title):
    plt.figure(figsize=(12, 4))

    circle_nodes = [n for n in G.nodes if n.startswith("O")]
    rounded_square_nodes = ["B+", "B-"]
    square_nodes = [n for n in G.nodes if n.startswith("R")]

    # Vẽ các cạnh với mũi tên
    nx.draw_networkx_edges(
        G, pos,
        arrows=True,
        arrowstyle='-&gt;',
        arrowsize=20,
        connectionstyle='arc3,rad=0.0',
        min_target_margin=15,
        width=2
    )

    # Vẽ các node hình tròn (O)
    nx.draw_networkx_nodes(G, pos,
                           nodelist=circle_nodes,
                           node_shape='o',
                           node_color='lightgrey',
                           node_size=1000)

    # Node B+ B- giả lập bo góc bằng màu trắng + viền đậm
    nx.draw_networkx_nodes(G, pos,
                           nodelist=rounded_square_nodes,
                           node_shape='s',
                           node_color='white',
                           edgecolors='black',
                           linewidths=2,
                           node_size=1000)

    # Node điện trở vuông
    nx.draw_networkx_nodes(G, pos,
                           nodelist=square_nodes,
                           node_shape='s',
                           node_color='lightgrey',
                           edgecolors='black',
                           linewidths=1,
                           node_size=1000)

    # Vẽ nhãn
    nx.draw_networkx_labels(G, pos)

    plt.title(title)
    plt.axis('off')
    plt.show()

# -----------------------------
# Picture 1: Resistors as Nodes (Initial)
# -----------------------------
G1 = nx.DiGraph()
G1.add_edges_from([
    ("B+", "R1"),
    ("R1", "R2"),
    ("R1", "R3"),
    ("R2", "O1"),
    ("R3", "O1"),
    ("O1", "R4"),
    ("O1", "R5"),
    ("R4", "B-"),
    ("R5", "B-"),
])

pos1 = {
    "B+": (-2, 0),
    "R1": (-1, 0),
    "R2": (0, 1),
    "R3": (0, -1),
    "O1": (1, 0),
    "R4": (2, 1),
    "R5": (2, -1),
    "B-": (3, 0),
}
custom_draw(G1, pos1, "Resistors as Nodes (Initial)")

# -----------------------------
# Picture 2: Consistent Node Representation
# -----------------------------
G2 = nx.DiGraph()
G2.add_edges_from([
    ("B+", "O0"),
    ("O0", "R1"),
    ("R1", "O1"),
    ("O1", "R2"),
    ("O1", "R3"),
    ("R2", "O2"),
    ("R3", "O2"),
    ("O2", "R4"),
    ("O2", "R5"),
    ("R4", "O3"),
    ("R5", "O3"),
    ("O3", "B-"),
])

pos2 = {
    "B+": (-3, 0),
    "O0": (-2, 0),
    "R1": (-1, 0),
    "O1": (0, 0),
    "R2": (1, 1),
    "R3": (1, -1),
    "O2": (2, 0),
    "R4": (3, 1),
    "R5": (3, -1),
    "O3": (4, 0),
    "B-": (5, 0),
}
custom_draw(G2, pos2, "With Junction Nodes")

# -----------------------------
# Picture 3: Edge-Based Resistor Graph
# -----------------------------
G3 = nx.DiGraph()
G3.add_edges_from([
    ("B+", "O0", {"label": ""}),
    ("O0", "O1", {"label": "R1"}),
    ("O0", "O1", {"label": "R2"}),
    ("O1", "O2", {"label": "R3"}),
    ("O1", "O2", {"label": "R4"}),
    ("O2", "O3", {"label": "R5"}),
    ("O3", "B-", {"label": ""}),
])

# Vị trí node
pos3 = {
    "B+": (-3, 0),
    "O0": (-2, 0),
    "O1": (-1, 0),
    "O2": (0, 0),
    "O3": (1, 0),
    "B-": (2, 0),
}

plt.figure(figsize=(12, 4))

# Vẽ B+ → O0
nx.draw_networkx_edges(G3, pos3,
    edgelist=[("B+", "O0")],
    connectionstyle='arc3,rad=0.0',
    arrowstyle='-&gt;', arrowsize=20, width=2
)

# Vẽ R1
nx.draw_networkx_edges(G3, pos3,
    edgelist=[("O0", "O1")],
    connectionstyle='arc3,rad=0.0',
    arrowstyle='-&gt;', arrowsize=20, width=2
)

# Vẽ R2: cong lên
nx.draw_networkx_edges(G3, pos3,
    edgelist=[("O1", "O2")],
    connectionstyle='arc3,rad=0.3',
    arrowstyle='-&gt;', arrowsize=20, width=2
)

# Vẽ R3: cong xuống
nx.draw_networkx_edges(G3, pos3,
    edgelist=[("O1", "O2")],
    connectionstyle='arc3,rad=-0.3',
    arrowstyle='-&gt;', arrowsize=20, width=2
)

# Vẽ R4 và R5: hơi cong lên &amp; xuống
nx.draw_networkx_edges(G3, pos3,
    edgelist=[("O2", "O3")],
    connectionstyle='arc3,rad=0.3',
    arrowstyle='-&gt;', arrowsize=20, width=2
)
nx.draw_networkx_edges(G3, pos3,
    edgelist=[("O2", "O3")],
    connectionstyle='arc3,rad=-0.3',
    arrowstyle='-&gt;', arrowsize=20, width=2
)

# Vẽ O3 → B-
nx.draw_networkx_edges(G3, pos3,
    edgelist=[("O3", "B-")],
    connectionstyle='arc3,rad=0.0',
    arrowstyle='-&gt;', arrowsize=20, width=2
)

# Vẽ node
circle_nodes = [n for n in G3.nodes if n.startswith("O")]
rounded_square_nodes = ["B+", "B-"]

nx.draw_networkx_nodes(G3, pos3, nodelist=circle_nodes,
    node_shape='o', node_color='lightgrey', node_size=1000)

nx.draw_networkx_nodes(G3, pos3, nodelist=rounded_square_nodes,
    node_shape='s', node_color='white', edgecolors='black',
    linewidths=2, node_size=1000)

# Nhãn node
nx.draw_networkx_labels(G3, pos3)

# Nhãn cạnh
edge_labels = {
    ("O0", "O1"): "R1",
    ("O1", "O2"): "R2 / R3",
    ("O2", "O3"): "R4 / R5",
}
nx.draw_networkx_edge_labels(G3, pos3, edge_labels=edge_labels)

plt.title("Resistors as Edges")
plt.axis('off')
plt.show()
</code></pre>
<p><strong>Initial</strong>
<img alt="Initial" src="../../../_pics/Physics/5%20Circuits/Problem_1/circuit_simplification/initial.png"/></p>
<p><strong>Consistent Node Representation</strong>
<img alt="Consistent Node Representation" src="../../../_pics/Physics/5%20Circuits/Problem_1/circuit_simplification/consistent-node-representation.png"/></p>
<p><strong>Edge-Based Resistor Graph</strong>
<img alt="Edge-Based Resistor Graph" src="../../../_pics/Physics/5%20Circuits/Problem_1/circuit_simplification/edge-based-resistor-graph.png"/></p>
<h3 id="building-blocks">Building blocks</h3>
<h4 id="series-configuration">Series configuration</h4>
<pre><code class="language-python">import networkx as nx
import matplotlib.pyplot as plt

def draw_circuit(G, pos, title):
    plt.figure(figsize=(10, 5))

    # Classify nodes
    circle_nodes = [n for n in G.nodes if n.startswith('o')]
    square_nodes = [n for n in G.nodes if n.startswith('I') or n.startswith('D') or n.startswith('R')]

    # Draw edges
    nx.draw_networkx_edges(G, pos, arrows=True)

    # Draw nodes with different shapes
    nx.draw_networkx_nodes(
        G, pos, nodelist=circle_nodes,
        node_color=[G.nodes[n].get('color', 'lightgrey') for n in circle_nodes],
        node_size=2000, node_shape='o'
    )
    nx.draw_networkx_nodes(
        G, pos, nodelist=square_nodes,
        node_color=[G.nodes[n].get('color', 'lightgrey') for n in square_nodes],
        node_size=2000, node_shape='s'
    )

    # Draw labels
    nx.draw_networkx_labels(G, pos, font_size=10)

    plt.title(title)
    plt.axis('off')
    plt.show()


# First graph: Original circuit
G1 = nx.DiGraph()
inputs = [f"I{i}" for i in range(1, 4)]
outputs = [f"D{i}" for i in range(1, 5)]

# Add nodes and edges
G1.add_node("o1", color='lightgreen')
G1.add_node("o2", color='red')
G1.add_node("o3", color='lightgreen')
G1.add_node("R1")
G1.add_node("R2")

for i in inputs:
    G1.add_edge(i, "o1")

G1.add_edge("o1", "R1")
G1.add_edge("R1", "o2")
G1.add_edge("o2", "R2")
G1.add_edge("R2", "o3")

for d in outputs:
    G1.add_edge("o3", d)

# Positioning manually
pos1 = {
    "I1": (-2, 1), "I2": (-2, 0), "I3": (-2, -1),
    "o1": (-1, 0), "R1": (0, 0), "o2": (1, 0), "R2": (2, 0), "o3": (3, 0),
    "D1": (4, 1), "D2": (4, 0.5), "D3": (4, -0.5), "D4": (4, -1)
}

draw_circuit(G1, pos1, "Original Circuit")

# Second graph: Simplified circuit
G2 = nx.DiGraph()
G2.add_node("o1", color='lightgreen')
G2.add_node("o3", color='lightgreen')
G2.add_node("R12")

for i in inputs:
    G2.add_edge(i, "o1")

G2.add_edge("o1", "R12")
G2.add_edge("R12", "o3")

for i in range(1, 6):  # Assume m=5 for illustration
    G2.add_edge("o3", f"D{i}")

# Positioning manually
pos2 = {
    "I1": (-2, 1), "I2": (-2, 0), "I3": (-2, -1),
    "o1": (-1, 0), "R12": (0, 0), "o3": (1, 0),
    "D1": (2, 1), "D2": (2, 0.5), "D3": (2, 0), "D4": (2, -0.5), "D5": (2, -1)
}

draw_circuit(G2, pos2, "Simplified Circuit")
</code></pre>
<p><img alt="Series Original" src="../../../_pics/Physics/5%20Circuits/Problem_1/building_blocks/series_original.png"/></p>
<p>Can be replaced by
<img alt="Series Simplified" src="../../../_pics/Physics/5%20Circuits/Problem_1/building_blocks/series_simplified.png"/></p>
<hr/>
<h4 id="parallel-configuration">Parallel configuration</h4>
<p><img alt="Parallel Original" src="../../../_pics/Physics/5%20Circuits/Problem_1/building_blocks/parallel_original.png"/></p>
<p>Can be replaced by
<img alt="Parallel Simplified" src="../../../_pics/Physics/5%20Circuits/Problem_1/building_blocks/parallel_simplified.png"/></p>
<h3 id="colab-circuit-problem-1">Colab: Circuit Problem 1</h3>
<p><a href="https://colab.research.google.com/drive/1ZesDtPsi-T2gTUKiNK-pqcJ_RN1R3pau?usp=sharing">Souce Code</a></p>
</div>
</div><footer>
<div aria-label="Footer Navigation" class="rst-footer-buttons" role="navigation">
<a class="btn btn-neutral float-left" href="../../4%20Electromagnetism/Problem_1/" title="Problem 1 (Shorted)"><span class="icon icon-circle-arrow-left"></span> Previous</a>
<a class="btn btn-neutral float-right" href="../Problem_1/" title="Problem 1">Next <span class="icon icon-circle-arrow-right"></span></a>
</div>
<hr/>
<div role="contentinfo">
<!-- Copyright etc -->
</div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
</div>
</div>
</section>
</div>
<div aria-label="Versions" class="rst-versions" role="note">
<span class="rst-current-version" data-toggle="rst-current-version">
<span><a href="../../4%20Electromagnetism/Problem_1/" style="color: #fcfcfc">« Previous</a></span>
<span><a href="../Problem_1/" style="color: #fcfcfc">Next »</a></span>
</span>
</div>
<script src="../../../js/jquery-3.6.0.min.js"></script>
<script>var base_url = "../../..";</script>
<script src="../../../js/theme_extra.js"></script>
<script src="../../../js/theme.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
<script src="../../../search/main.js"></script>
<script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>
</body>
</html>
